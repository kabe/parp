{% load accessdic %}
<!DOCTYPE HTML>
<html lagn="en">
  <head>
    <title>Workflow Information</title>
    <link rel="stylesheet" type="text/css" href="/style/style.css" />
    <!--script type="text/javascript" src="/script/p.js"></script-->
  </head>
  <body>
    <div id="container">
      <h1>Workflow {{ workflow.name }}</h1>
      <div>
        <h2>Applications in {{ workflow.name }}</h2>
        <table id="cmptable">
          <tr>
            <th>ID</th>
            <th>Name</th>
          </tr>
          {% for app in apps %}
          <tr>
            <td class="numeric">{{ app.id }}</td>
            <td>{{ app.name }}</td>
          </tr>
          {% endfor %}
        </table>
        <h2>Conditions</h2>
        <table id="cmptable">
          <tr>
            <th>Condition ID</th>
            <th>Location</th>
            <th>Filesystem</th>
            <th>Worker #</th>
            <th>Input Dataset</th>
            <th>Average Time</th>
            <th># of Trials</th>
          </tr>
          {% for cond in conds %}
          <tr>
            <td class="numeric">{{ cond.wfc_id }}</td>
            <td>{{ cond.location }}</td>
            <td>{{ cond.filesystem }}</td>
            <td class="numeric">{{ cond.worker_num }}</td>
            <td>{{ cond.input_dataset }}</td>
            <td class="numeric">{{ cond.elapsed }}</td>
            <td class="numeric">{{ cond.num_trials }}</td>
          </tr>
          {% endfor %}
        </table>
        <h2>Comparison Pair</h2>
        <table>
          {% for condout in conds %}
          <tr>
            {% for condin in conds %}
            <td>
              {% if not condin.wfc_id == condout.wfc_id %}
              <a href="/wfdiff/{{ workflow.id }}/{{ condout.wfc_id }}/{{ condin.wfc_id }}/">
                {{ condout.wfc_id }}-{{ condin.wfc_id }}
              </a>
              {% else %}
              {% endif %}
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>
  </body>
</html>
